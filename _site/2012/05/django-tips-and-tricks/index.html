
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>Django tips and tricks</title>
    <meta name="description" content="Some things I learned about Django">
    <meta name="author" content="Fabio Souto">

    <!-- Le HTML5 shim, for IE6-8 support of HTML elements -->
    <!--[if lt IE 9]>
      <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Le styles -->
    <link href="/assets/themes/fasouto/bootstrap/css/bootstrap.min.css" rel="stylesheet">
    <link href="/assets/themes/fasouto/css/style.css" rel="stylesheet" type="text/css" media="all">
    <link href='http://fonts.googleapis.com/css?family=OFL+Sorts+Mill+Goudy+TT:regular,italic' rel='stylesheet' type='text/css' />

  </head>

  <body>


    <div class="container">
      
        <header class="row main-header">
          <div class="span3 logo"><h3><a href="/">fabio souto</a></h3></div>  
          <div class="span4 offset5">
    <nav>
        <ul class="nav nav-pills nav-menu blog-navigation">
            <li class=""><a href="/archive.html">articles</a></li>
            <li class=""><a href="/projects">projects</a></li>
            <li class=""><a href="/about">about</a></li>
        </ul>
    </nav>
</div>
        </header>

      <div class="content">
        
<div class="page-header">
  <h1>Django tips and tricks <small>Some things I learned about Django</small></h1>
</div>

<div class="row">
  <div class="span8">
    <p>Django es un framework tremendamente poderoso, durante estos 4+ años he aprendido algunos trucos que comparto aqui.</p>

<p>This is an ongoing document, I will continue updating it as long as I learn new tricks. Si tienes alguna sugerencia, o ves algo que esta mal, por favor dimelo.</p>

<h2 id='usa_vagrant'>Usa Vagrant</h2>

<p>Normalmente desarrollaba mis paginas en local contra virtualenv y luego hacia el deployment a una instancia de EC2. Crei que era la mejor manera de desarrollar hasta que descubri Vagrant.</p>

<h3 id='vagrant'>Vagrant?</h3>

<p>Vagrant es una herramienta para manejar maquinas virtuales VirtualBox. Nada más. La gran ventaja de desarrollar con Vagrant es que estas ejecutando tu codigo contra la misma configuración que vas a usar en producción.</p>

<p>Además instalar algunos paquetes (si PIL y Pscycopg2 os miro a vosotros) en OSX no es tarea fácil, con Vagrant es tan sencillo como hacer un apt-get.</p>

<p>Vagrant tiene integracion con Chef y Puppet out-of-the-box, esta es otra gran ventaja.</p>

<h2 id='settings_management'>Settings management</h2>

<p>It&#8217;s always a good idea to have different files for local and production settings to avoid override it with a version control system. What I do it&#8217;s to create a <code>local_settings.py</code> file and add it to <code>.gitignore</code> to keep it out of version control and at the end of <code>settings.py</code> I add:</p>
<div class='highlight'><pre><code class='python'><span class='k'>try</span><span class='p'>:</span>
   <span class='kn'>from</span> <span class='nn'>local_settings</span> <span class='kn'>import</span> <span class='o'>*</span>
<span class='k'>except</span> <span class='ne'>ImportError</span><span class='p'>,</span> <span class='n'>e</span><span class='p'>:</span>
   <span class='k'>pass</span>
</code></pre>
</div>
<p>Override what you need in <code>local_settings.py</code>.</p>

<h2 id='fabric'>Fabric</h2>

<h2 id='usa_gunicorn__nginx'>Usa gunicorn + nginx</h2>

<h3 id='green_unicorn_aka_gunicorn'>Green Unicorn aka gunicorn</h3>

<ul>
<li><a href='http://gunicorn.org/'>Gunicorn</a> es sencillo</li>

<li><a href='http://gunicorn.org/'>Gunicorn</a> es ligero</li>
</ul>

<p>Que más se le puede pedir a un servidor. Aqui un <a href='http://senko.net/en/django-nginx-gunicorn/'>buen articulo de como configurarlos</a> ademas la documentación oficial de Django también incluye una <a href='https://docs.djangoproject.com/en/dev/howto/deployment/wsgi/gunicorn/'>seccion para integrar con Gunicorn</a></p>

<h3 id='nginx'>Nginx</h3>

<p><a href='http://nginx.org/en/'>Nginx</a> (pronounced &#8220;engine-ex&#8221;) is a good choice para usarlo como reverse proxy. Nginx tiene una base de usuarios muy activa y esta bajo active development.</p>

<h2 id='usa_south'>Usa South</h2>

<p>Using South in Django is a no brainer. Actually South must be in Django core. Usually your data model change over time, South let you define migrations, a way to mutate your database schema from one version into another.</p>

<p>The <a href='http://south.aeracode.org/docs/tutorial/index.html'>South tutorial</a> is pretty good.</p>

<h2 id='use_managers'>Use managers</h2>

<p>A manager is the interface to query the models. Managers will increase DRY and increase the abstraction level.</p>

<p>But please before do any manager <a href='http://dabapps.com/blog/higher-level-query-api-django-orm/'>read this article from dabapps</a></p>

<h2 id='soporte_con_sublime_text_2'>Soporte con sublime text 2</h2>

<p>Durante una larga temporada estuve usando Vim para programar. Al principio fue algo dificil pero al cabo del tiempo te acostumbras y la memoria muscular hace su efecto, tecleas sin pensar. Hasta que descubri Sublime Text 2. Desde entonces toooodo me parece más lento. Vim esta bien, pero requiere un largo aprendizaje y mucha configuración para ponerlo a tu gusto. En una hora con sublime text customize el entorno a mi gusto, instale plugins y aprendi la mitad de los comandos. Además tiene el modo vintage que habilita las key bindings de Vim.</p>
    <hr>
    <div class="pagination">
      <ul>
      
        <li class="prev disabled"><a>&larr; Previous</a></li>
      
      
        <li class="next"><a href="/2012/05/introduction-to-hadoop" title="Introduction to Hadoop">Introduction to Hadoop &rarr;</a></li>
      
      </ul>
    </div>
    <hr>
    
  </div>
  
  <div class="span4">
    <h4>Published</h4>
    <div class="date"><span>14 May 2012</span></div>
    <div class="rdbWrapper" data-show-read="1" data-show-send-to-kindle="1" data-show-print="0" data-show-email="0" data-orientation="0" data-version="1" data-bg-color="#fdfdfa"></div><script type="text/javascript">(function() {var s = document.getElementsByTagName("script")[0],rdb = document.createElement("script"); rdb.type = "text/javascript"; rdb.async = true; rdb.src = document.location.protocol + "//www.readability.com/embed.js"; s.parentNode.insertBefore(rdb, s); })();</script></div>
</div>


      </div>

    </div> <!-- /container -->

    
  </body>
</html>

